# AutoTemu

å…¨æ ˆåº”ç”¨å¼€å‘æ¡†æ¶ | FastAPI åç«¯ + Next.js å‰ç«¯ + æµè§ˆå™¨æ‰©å±•

## é¡¹ç›®æ¦‚è¿°

AutoTemu æ˜¯ä¸€ä¸ªå®Œæ•´çš„å…¨æ ˆé¡¹ç›®æ ¹åŸºï¼Œæä¾›äº†ç°ä»£åŒ–çš„å‰åç«¯åˆ†ç¦»æ¶æ„ã€‚é¡¹ç›®åŒ…å«ï¼š

- **åç«¯æœåŠ¡** - åŸºäº FastAPI çš„é«˜æ€§èƒ½ RESTful API
- **ç®¡ç†ç³»ç»Ÿ** - Next.js æ„å»ºçš„ç°ä»£åŒ–å‰ç«¯åº”ç”¨
- **æµè§ˆå™¨æ‰©å±•** - Plasmo æ¡†æ¶çš„è·¨æµè§ˆå™¨æ‰©å±•

é€‚ç”¨äºå¿«é€Ÿæ­å»ºä¼ä¸šçº§åº”ç”¨ã€å­¦ä¹ ç°ä»£å…¨æ ˆå¼€å‘ã€æˆ–ä½œä¸ºæ–°é¡¹ç›®çš„æŠ€æœ¯åŸºç¡€ã€‚

## æ ¸å¿ƒç‰¹æ€§

- ğŸš€ **ä¸€é”®å¯åŠ¨** - Docker Compose å¿«é€Ÿå¯åŠ¨å®Œæ•´å¼€å‘ç¯å¢ƒ
- ğŸ” **ç”Ÿäº§å°±ç»ª** - å†…ç½® JWT è®¤è¯ã€æ•°æ®åº“è¿ç§»ã€API æ–‡æ¡£
- ğŸ¨ **ç°ä»£åŒ– UI** - Shadcn/UI ç»„ä»¶åº“ + Tailwind CSS
- ğŸ› ï¸ **å¼€å‘å‹å¥½** - Pre-commit hooksã€ä»£ç æ£€æŸ¥ã€è‡ªåŠ¨æ ¼å¼åŒ–
- ğŸ“¦ **å®Œæ•´æŠ€æœ¯æ ˆ** - åç«¯ API + å‰ç«¯åº”ç”¨ + æµè§ˆå™¨æ‰©å±•
- ğŸ³ **ç”Ÿäº§éƒ¨ç½²** - Docker + Traefik + è‡ªåŠ¨ HTTPS
- ğŸ§© **é€šç”¨æ¨¡å—** - ç»Ÿä¸€å¼‚å¸¸å¤„ç†ã€API å“åº”æ ¼å¼ã€å…±äº«ç±»å‹åº“
- ğŸ“‹ **å›¢é˜Ÿåä½œ** - å®Œæ•´çš„å¼€å‘è§„èŒƒã€API æ ‡å‡†ã€è´¡çŒ®æŒ‡å—

## æ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ç”¨æˆ·ç•Œé¢å±‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Next.js å‰ç«¯     â”‚  æµè§ˆå™¨æ‰©å±• (Plasmo)  â”‚  ç§»åŠ¨åº”ç”¨ (æœªæ¥)  â”‚
â”‚  (localhost:3000) â”‚  (Chrome/Firefox)    â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     åå‘ä»£ç†å±‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Traefik (ç”Ÿäº§)  â”‚  ç›´è¿ (å¼€å‘)                              â”‚
â”‚  è‡ªåŠ¨ HTTPS      â”‚  localhost:8000                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     åº”ç”¨å±‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  FastAPI Backend                                            â”‚
â”‚  â€¢ RESTful API (OpenAPI æ–‡æ¡£)                               â”‚
â”‚  â€¢ JWT è®¤è¯ä¸æˆæƒ                                            â”‚
â”‚  â€¢ SQLModel ORM                                             â”‚
â”‚  â€¢ Alembic æ•°æ®åº“è¿ç§»                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     æ•°æ®å±‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  PostgreSQL 17                                              â”‚
â”‚  â€¢ å…³ç³»å‹æ•°æ®å­˜å‚¨                                            â”‚
â”‚  â€¢ Adminer Webç®¡ç†ç•Œé¢                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

è¯¦è§ [æ¶æ„è®¾è®¡](docs/architecture.md)

## é¡¹ç›®ç»“æ„

```
AutoTemu/
â”œâ”€â”€ shared/              # ğŸ†• å…±äº«ç±»å‹åº“ï¼ˆå‰åç«¯é€šç”¨ï¼‰
â”‚   â”œâ”€â”€ types/           # ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ api.ts       # API å“åº”æ ¼å¼ã€çŠ¶æ€ç 
â”‚   â”‚   â”œâ”€â”€ errors.ts    # é”™è¯¯ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ common.ts    # é€šç”¨ç±»å‹
â”‚   â””â”€â”€ package.json     # npm åŒ…é…ç½®
â”œâ”€â”€ backend/             # FastAPI åç«¯
â”‚   â”œâ”€â”€ app/             # åº”ç”¨æ ¸å¿ƒä»£ç 
â”‚   â”‚   â”œâ”€â”€ api/         # API è·¯ç”±æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ common/      # ğŸ†• é€šç”¨æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ exceptions.py  # ç»Ÿä¸€å¼‚å¸¸å¤„ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ responses.py   # ç»Ÿä¸€å“åº”æ ¼å¼
â”‚   â”‚   â”‚   â”œâ”€â”€ schemas.py     # é€šç”¨ Schema
â”‚   â”‚   â”‚   â””â”€â”€ handlers.py    # å¼‚å¸¸å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ core/        # æ ¸å¿ƒé…ç½®ï¼ˆè®¤è¯ã€æ•°æ®åº“ï¼‰
â”‚   â”‚   â”œâ”€â”€ models.py    # SQLModel æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ crud.py      # CRUD æ“ä½œ
â”‚   â”œâ”€â”€ tests/           # åç«¯å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ alembic/         # æ•°æ®åº“è¿ç§»è„šæœ¬
â”‚   â”œâ”€â”€ pyproject.toml   # Python ä¾èµ–
â”‚   â””â”€â”€ README.md        # åç«¯æ–‡æ¡£
â”œâ”€â”€ frontend/            # Next.js å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/         # App Router é¡µé¢å’Œè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ components/  # React ç»„ä»¶åº“
â”‚   â”‚   â””â”€â”€ lib/         # å·¥å…·å‡½æ•°å’Œ API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ package.json     # å‰ç«¯ä¾èµ–
â”‚   â””â”€â”€ README.md        # å‰ç«¯æ–‡æ¡£
â”œâ”€â”€ extension/           # Plasmo æµè§ˆå™¨æ‰©å±•
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ popup/       # æ‰©å±•å¼¹çª—ç•Œé¢
â”‚   â”‚   â”œâ”€â”€ pages/       # æ‰©å±•ç‹¬ç«‹é¡µé¢
â”‚   â”‚   â””â”€â”€ components/  # æ‰©å±•ç»„ä»¶åº“
â”‚   â”œâ”€â”€ package.json     # æ‰©å±•ä¾èµ–
â”‚   â””â”€â”€ README.md        # æ‰©å±•æ–‡æ¡£
â”œâ”€â”€ docs/                # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ scripts/             # å®ç”¨è„šæœ¬ï¼ˆå¤‡ä»½ã€æ¢å¤ç­‰ï¼‰
â”œâ”€â”€ docker-compose.yml   # ç”Ÿäº§ç¯å¢ƒé…ç½®
â”œâ”€â”€ docker-compose.dev.yml  # å¼€å‘ç¯å¢ƒé…ç½®
â”œâ”€â”€ .env.example         # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â””â”€â”€ README.md            # æœ¬æ–‡ä»¶
```

## å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- [Docker Desktop](https://www.docker.com/products/docker-desktop) 20.10+
- [Node.js](https://nodejs.org/) 18+ ï¼ˆä»…éœ€å‰ç«¯å¼€å‘ï¼‰
- [Python](https://www.python.org/) 3.10+ ï¼ˆä»…éœ€åç«¯å¼€å‘ï¼‰
- [pnpm](https://pnpm.io/) æˆ– npm ï¼ˆå‰ç«¯é¡¹ç›®ç®¡ç†å™¨ï¼‰

### 5 åˆ†é’Ÿå¯åŠ¨

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/your-org/AutoTemu.git
cd AutoTemu
```

2. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
cp .env.example .env
# æ ¹æ®å®é™…æƒ…å†µç¼–è¾‘ .env æ–‡ä»¶
```

3. **å®‰è£…åç«¯ä¾èµ–å’Œ Git Hooks**
```bash
cd backend
uv sync
cd ..

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
.\backend\.venv\Scripts\Activate.ps1  # Windows
# source backend/.venv/bin/activate    # macOS/Linux

# å®‰è£… pre-commit hooks
python -m pre_commit install
```

4. **å¯åŠ¨å¼€å‘ç¯å¢ƒ**

**ç»ˆç«¯ 1 - å¯åŠ¨åç«¯å’Œæ•°æ®åº“ï¼š**
```bash
docker compose -f docker-compose.dev.yml up
```

ç­‰å¾…è¾“å‡ºæ˜¾ç¤º "Alembic initialized" å’Œ "Initial data created"

**ç»ˆç«¯ 2 - å¯åŠ¨å‰ç«¯ï¼š**
```bash
cd frontend
pnpm install
pnpm dev
```

**ç»ˆç«¯ 3 - å¯åŠ¨æµè§ˆå™¨æ‰©å±•ï¼š**
```bash
cd extension
pnpm install
pnpm dev
```


5. **è®¿é—®åº”ç”¨**

- å‰ç«¯: http://localhost:3000
- åç«¯ API æ–‡æ¡£: http://localhost:8000/docs (Swagger UI)
- æ•°æ®åº“ç®¡ç†: http://localhost:8080 (Adminer)
  - Server: `db`
  - Username: `postgres`
  - Password: `.env` ä¸­çš„ `POSTGRES_PASSWORD`

## æŠ€æœ¯æ ˆ

### åç«¯
- **æ¡†æ¶**: FastAPI 0.114+ - é«˜æ€§èƒ½å¼‚æ­¥ Web æ¡†æ¶
- **ORM**: SQLModel - ç±»å‹å®‰å…¨çš„ SQL å·¥å…·åŒ…
- **æ•°æ®åº“**: PostgreSQL 17
- **è®¤è¯**: JWT Token
- **è¿ç§»**: Alembic
- **æµ‹è¯•**: Pytest + Coverage

### å‰ç«¯
- **æ¡†æ¶**: Next.js 15 - React å…¨æ ˆæ¡†æ¶
- **UI**: Shadcn/UI + Tailwind CSS
- **çŠ¶æ€ç®¡ç†**: TanStack Query (React Query)
- **è¡¨å•**: React Hook Form + Zod
- **è®¤è¯**: next-auth v5
- **API å®¢æˆ·ç«¯**: openapi-fetch (è‡ªåŠ¨ç”Ÿæˆç±»å‹)
- **æµ‹è¯•**: Vitest + Playwright

### æµè§ˆå™¨æ‰©å±•
- **æ¡†æ¶**: Plasmo - ç°ä»£åŒ–æ‰©å±•å¼€å‘æ¡†æ¶
- **æ”¯æŒ**: Chrome, Firefox, Edge
- **æŠ€æœ¯**: TypeScript + React

### åŸºç¡€è®¾æ–½
- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **åå‘ä»£ç†**: Traefikï¼ˆè‡ªåŠ¨ HTTPSï¼‰
- **ä»£ç è´¨é‡**: Pre-commit hooks, Ruff, ESLint
- **CI/CD**: GitHub Actions (å¯é…ç½®)

æ›´å¤šæŠ€æœ¯é€‰å‹è¯´æ˜ï¼Œè¯¦è§ [æ¶æ„è®¾è®¡](docs/architecture.md)

## é€šç”¨æ¨¡å—

é¡¹ç›®æä¾›äº†ç»Ÿä¸€çš„é€šç”¨æ¨¡å—ï¼Œç”¨äºä¿æŒå‰åç«¯ä»£ç é£æ ¼ä¸€è‡´æ€§ã€‚

### å…±äº«ç±»å‹åº“ (shared/)

å‰åç«¯å…±äº«çš„ TypeScript ç±»å‹å®šä¹‰ï¼š

```typescript
import { ApiResponse, BusinessCode, AppError } from "@autotemu/shared";

// ä½¿ç”¨ç»Ÿä¸€çš„ API å“åº”ç±»å‹
const response: ApiResponse<User> = {
  code: BusinessCode.SUCCESS,
  message: "æ“ä½œæˆåŠŸ",
  data: user,
  timestamp: new Date().toISOString(),
};
```

### åç«¯é€šç”¨æ¨¡å— (backend/app/common/)

ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†å’Œå“åº”æ ¼å¼ï¼š

```python
from app.common import (
    AuthenticationException,
    ResourceException,
    BusinessCode,
    success_response,
    paginated_response,
)

# æŠ›å‡ºç»Ÿä¸€æ ¼å¼çš„å¼‚å¸¸
raise ResourceException(
    code=BusinessCode.RESOURCE_NOT_FOUND,
    message="ç”¨æˆ·ä¸å­˜åœ¨"
)

# è¿”å›ç»Ÿä¸€æ ¼å¼çš„å“åº”
return success_response(data=user, message="è·å–ç”¨æˆ·æˆåŠŸ")
```

### API å“åº”æ ¼å¼

æ‰€æœ‰ API ç»Ÿä¸€ä½¿ç”¨ä»¥ä¸‹å“åº”æ ¼å¼ï¼š

```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": { ... },
  "timestamp": "2025-01-12T10:30:00.000Z",
  "request_id": "uuid"
}
```

è¯¦è§ [API æ ‡å‡†æ–‡æ¡£](docs/API-STANDARDS.md)

## æ–‡æ¡£å¯¼èˆª

### å›¢é˜Ÿåä½œ
- [å¼€å‘è§„èŒƒ](docs/DEVELOPMENT.md) - ç¼–ç è§„èŒƒã€å‘½åè§„èŒƒã€Git å·¥ä½œæµ
- [API æ ‡å‡†](docs/API-STANDARDS.md) - å“åº”æ ¼å¼ã€çŠ¶æ€ç ã€é”™è¯¯å¤„ç†
- [è´¡çŒ®æŒ‡å—](docs/CONTRIBUTING.md) - å¼€å‘ç¯å¢ƒã€æäº¤æµç¨‹ã€PR è§„èŒƒ

### å¼€å‘æŒ‡å—
- [æ¶æ„è®¾è®¡](docs/architecture.md) - ç³»ç»Ÿæ¶æ„ã€è®¾è®¡å†³ç­–ã€æŠ€æœ¯é€‰å‹
- [API å¼€å‘](docs/api-development.md) - åç«¯å¼€å‘ã€æ•°æ®åº“æ“ä½œã€æµ‹è¯•
- [å‰ç«¯å¼€å‘](docs/frontend-development.md) - ç»„ä»¶å¼€å‘ã€çŠ¶æ€ç®¡ç†ã€è·¯ç”±
- [æµè§ˆå™¨æ‰©å±•](docs/extension.md) - æ‰©å±•å¼€å‘ã€æ‰“åŒ…ã€å‘å¸ƒ

### éƒ¨ç½²å’Œè¿ç»´
- [ç”Ÿäº§éƒ¨ç½²](docs/deployment.md) - Docker éƒ¨ç½²ã€Traefik é…ç½®ã€ç›‘æ§

## Git å·¥ä½œæµ

### Pre-commit Hooks

é¡¹ç›®é…ç½®äº†è‡ªåŠ¨ä»£ç æ£€æŸ¥ï¼Œåœ¨æ¯æ¬¡æäº¤æ—¶æ‰§è¡Œï¼š

**åç«¯æ£€æŸ¥ï¼š**
```bash
cd backend
uv run ruff check --fix      # è‡ªåŠ¨ä¿®å¤ä»£ç æ ¼å¼
uv run ruff format           # æ ¼å¼åŒ–ä»£ç 
```

**å‰ç«¯æ£€æŸ¥ï¼š**
```bash
cd frontend
pnpm lint:fix                # è‡ªåŠ¨ä¿®å¤ TypeScript å’Œ ESLint é—®é¢˜
pnpm format                  # æ ¼å¼åŒ–ä»£ç 
```

**Git æäº¤æµç¨‹ï¼š**
```bash
# 1. ä¿®æ”¹ä»£ç åæäº¤
git add .
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"

# 2. å¦‚æœ hooks æ£€æŸ¥å¤±è´¥ï¼Œä¼šè‡ªåŠ¨ä¿®å¤ï¼Œæ˜¾ç¤º "Fixed by ..." æ¶ˆæ¯
# 3. æ ¹æ®éœ€è¦é‡æ–°æäº¤
git add .
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"

# 4. è·³è¿‡æ£€æŸ¥ï¼ˆä»…åœ¨ç´§æ€¥æƒ…å†µï¼‰
git commit --no-verify -m "å¿«é€Ÿä¿®å¤"
```

### åˆ†æ”¯ç®¡ç†

- `main/master` - ç”Ÿäº§ç‰ˆæœ¬ï¼ˆä¿æŠ¤åˆ†æ”¯ï¼‰
- `develop` - å¼€å‘ä¸»åˆ†æ”¯
- `feature/xxx` - åŠŸèƒ½åˆ†æ”¯
- `fix/xxx` - ä¿®å¤åˆ†æ”¯

## æ•°æ®åº“è¿æ¥

### ä½¿ç”¨æ•°æ®åº“å·¥å…·è¿æ¥ï¼ˆNavicat / DBeaverï¼‰

- Host: `localhost`
- Port: `15432` (é¿å…ä¸æœ¬åœ° PostgreSQL å†²çª)
- Username: `postgres`
- Password: `.env` ä¸­çš„ `POSTGRES_PASSWORD`
- Database: `app`

## æ•…éšœæ’æŸ¥

### åç«¯ç›¸å…³

**åç«¯æ— æ³•å¯åŠ¨æˆ–æ•°æ®åº“è¿æ¥å¤±è´¥**
```bash
# æ£€æŸ¥å®¹å™¨çŠ¶æ€
docker compose -f docker-compose.dev.yml ps

# æŸ¥çœ‹åç«¯æ—¥å¿—
docker compose -f docker-compose.dev.yml logs backend

# æŸ¥çœ‹æ•°æ®åº“æ—¥å¿—
docker compose -f docker-compose.dev.yml logs db

# é‡å¯æœåŠ¡
docker compose -f docker-compose.dev.yml restart backend
```

**ä»£ç æ ¼å¼é—®é¢˜**
```bash
cd backend
uv run ruff check --fix    # è‡ªåŠ¨ä¿®å¤
uv run ruff format
```

### å‰ç«¯ç›¸å…³

**å‰ç«¯ç¼–è¯‘é”™è¯¯æˆ–ç±»å‹é”™è¯¯**
```bash
cd frontend
pnpm install               # é‡æ–°å®‰è£…ä¾èµ–
pnpm lint:fix             # è‡ªåŠ¨ä¿®å¤
pnpm type-check           # æ£€æŸ¥ç±»å‹é”™è¯¯
```

**ä¿®æ”¹ä»£ç åå‰ç«¯ä¸æ›´æ–°**
- ç¡®ä¿ç»ˆç«¯ä¸­çš„ `pnpm dev` ä»åœ¨è¿è¡Œ
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼ˆCtrl+Shift+Deleteï¼‰
- å°è¯•æ‰‹åŠ¨åˆ·æ–°æµè§ˆå™¨

### Docker ç›¸å…³

**æ•°æ®åº“è¿æ¥é”™è¯¯**
```bash
# æ¸…é™¤å¹¶é‡å»ºå®¹å™¨
docker compose -f docker-compose.dev.yml down
docker compose -f docker-compose.dev.yml up --build
```

**æ‰¾ä¸åˆ°æ¨¡å—æˆ–ç«¯å£è¢«å ç”¨**
```bash
# æŸ¥çœ‹æ‰€æœ‰å®¹å™¨
docker ps -a

# åœæ­¢ç‰¹å®šå®¹å™¨
docker stop container_name

# é‡Šæ”¾ç«¯å£
# Windows: netstat -ano | findstr :8000
# macOS/Linux: lsof -i :8000
```

æ›´å¤šæ•…éšœæ’æŸ¥è¯´æ˜ï¼Œè¯¦è§ [éƒ¨ç½²æ–‡æ¡£](docs/deployment.md)

## å¸¸ç”¨å‘½ä»¤

### åç«¯

```bash
cd backend

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
.\\.venv\Scripts\Activate.ps1      # Windows
# source .venv/bin/activate         # macOS/Linux

# è¿è¡Œè¿ç§»
alembic upgrade head

# åˆ›å»ºæ–°è¿ç§»
alembic revision --autogenerate -m "æè¿°"

# è¿è¡Œæµ‹è¯•
pytest

# æŸ¥çœ‹è¦†ç›–ç‡
pytest --cov=app --cov-report=html
```

### å‰ç«¯

```bash
cd frontend

# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# æ£€æŸ¥ç±»å‹
pnpm type-check

# è¿è¡Œæµ‹è¯•
pnpm test

# è¿è¡Œ E2E æµ‹è¯•
pnpm test:e2e
```

### æµè§ˆå™¨æ‰©å±•

```bash
cd extension

# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘æ¨¡å¼
pnpm dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build
```

## éœ€è¦å¸®åŠ©ï¼Ÿ

- æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£ï¼š[docs/](docs/)
- æ£€æŸ¥ [å¸¸è§é—®é¢˜](docs/deployment.md#æ•…éšœæ’æŸ¥)
- æŸ¥çœ‹æºä»£ç æ³¨é‡Š
- æäº¤ Issueï¼ˆå¦‚æœæ˜¯å†…éƒ¨é¡¹ç›®ï¼‰

---

**å¼€å‘äººå‘˜æœ€åæ›´æ–°**: 2025-01-12
**é¡¹ç›®æŠ€æœ¯æ ˆ**: FastAPI | Next.js | PostgreSQL | Docker
